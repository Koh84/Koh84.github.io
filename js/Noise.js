(function(_0x599bbd,_0x218136){const _0x40dfae=a4_0x59c9,_0x5b5911=_0x599bbd();while(!![]){try{const _0x36d610=-parseInt(_0x40dfae(0x19c))/0x1*(-parseInt(_0x40dfae(0x19e))/0x2)+-parseInt(_0x40dfae(0x198))/0x3*(-parseInt(_0x40dfae(0x19b))/0x4)+-parseInt(_0x40dfae(0x19d))/0x5+-parseInt(_0x40dfae(0x19f))/0x6*(parseInt(_0x40dfae(0x1a0))/0x7)+-parseInt(_0x40dfae(0x19a))/0x8*(-parseInt(_0x40dfae(0x1a1))/0x9)+-parseInt(_0x40dfae(0x196))/0xa*(-parseInt(_0x40dfae(0x199))/0xb)+-parseInt(_0x40dfae(0x197))/0xc;if(_0x36d610===_0x218136)break;else _0x5b5911['push'](_0x5b5911['shift']());}catch(_0x353dc0){_0x5b5911['push'](_0x5b5911['shift']());}}}(a4_0x5396,0x93156));const noise='\x0a\x09//\x0a\x09//\x20Description\x20:\x20Array\x20and\x20textureless\x20GLSL\x202D/3D/4D\x20simplex\x20\x0a\x09//\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noise\x20functions.\x0a\x09//\x20\x20\x20\x20\x20\x20Author\x20:\x20Ian\x20McEwan,\x20Ashima\x20Arts.\x0a\x09//\x20\x20Maintainer\x20:\x20stegu\x0a\x09//\x20\x20\x20\x20\x20Lastmod\x20:\x2020110822\x20(ijm)\x0a\x09//\x20\x20\x20\x20\x20License\x20:\x20Copyright\x20(C)\x202011\x20Ashima\x20Arts.\x20All\x20rights\x20reserved.\x0a\x09//\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Distributed\x20under\x20the\x20MIT\x20License.\x20See\x20LICENSE\x20file.\x0a\x09//\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20https://github.com/ashima/webgl-noise\x0a\x09//\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20https://github.com/stegu/webgl-noise\x0a\x09//\x20\x0a\x0a\x09vec3\x20mod289(vec3\x20x)\x20{\x0a\x09\x20\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x0a\x09}\x0a\x0a\x09vec4\x20mod289(vec4\x20x)\x20{\x0a\x09\x20\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x0a\x09}\x0a\x0a\x09vec4\x20permute(vec4\x20x)\x20{\x0a\x09\x09\x20return\x20mod289(((x*34.0)+1.0)*x);\x0a\x09}\x0a\x0a\x09//\x20Permutation\x20polynomial\x20(ring\x20size\x20289\x20=\x2017*17)\x0a\x09vec3\x20permute(vec3\x20x)\x20{\x0a\x09\x20\x20return\x20mod289(((x*34.0)+1.0)*x);\x0a\x09}\x0a\x09\x0a\x09float\x20permute(float\x20x){\x0a\x09\x09return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;;\x0a\x09}\x0a\x0a\x09vec4\x20taylorInvSqrt(vec4\x20r){\x0a\x09\x20\x20return\x201.79284291400159\x20-\x200.85373472095314\x20*\x20r;\x0a\x09}\x0a\x0a\x09vec2\x20fade(vec2\x20t)\x20{\x0a\x09\x20\x20return\x20t*t*t*(t*(t*6.0-15.0)+10.0);\x0a\x09}\x0a\x0a\x09vec3\x20fade(vec3\x20t)\x20{\x0a\x09\x20\x20return\x20t*t*t*(t*(t*6.0-15.0)+10.0);\x0a\x09}\x0a\x09\x0a\x09//\x20Hashed\x202-D\x20gradients\x20with\x20an\x20extra\x20rotation.\x0a\x09//\x20(The\x20constant\x200.0243902439\x20is\x201/41)\x0a\x09vec2\x20rgrad2(vec2\x20p,\x20float\x20rot)\x20{\x0a\x09#if\x200\x0a\x09//\x20Map\x20from\x20a\x20line\x20to\x20a\x20diamond\x20such\x20that\x20a\x20shift\x20maps\x20to\x20a\x20rotation.\x0a\x09\x20\x20float\x20u\x20=\x20permute(permute(p.x)\x20+\x20p.y)\x20*\x200.0243902439\x20+\x20rot;\x20//\x20Rotate\x20by\x20shift\x0a\x09\x20\x20u\x20=\x204.0\x20*\x20fract(u)\x20-\x202.0;\x0a\x09\x20\x20//\x20(This\x20vector\x20could\x20be\x20normalized,\x20exactly\x20or\x20approximately.)\x0a\x09\x20\x20return\x20vec2(abs(u)-1.0,\x20abs(abs(u+1.0)-2.0)-1.0);\x0a\x09#else\x0a\x09//\x20For\x20more\x20isotropic\x20gradients,\x20sin/cos\x20can\x20be\x20used\x20instead.\x0a\x09\x20\x20float\x20u\x20=\x20permute(permute(p.x)\x20+\x20p.y)\x20*\x200.0243902439\x20+\x20rot;\x20//\x20Rotate\x20by\x20shift\x0a\x09\x20\x20u\x20=\x20fract(u)\x20*\x206.28318530718;\x20//\x202*pi\x0a\x09\x20\x20return\x20vec2(cos(u),\x20sin(u));\x0a\x09#endif\x0a\x09}\x0a\x0a\x09float\x20snoise(vec3\x20v){\x20\x0a\x09\x20\x20const\x20vec2\x20\x20C\x20=\x20vec2(1.0/6.0,\x201.0/3.0)\x20;\x0a\x09\x20\x20const\x20vec4\x20\x20D\x20=\x20vec4(0.0,\x200.5,\x201.0,\x202.0);\x0a\x0a\x09//\x20First\x20corner\x0a\x09\x20\x20vec3\x20i\x20\x20=\x20floor(v\x20+\x20dot(v,\x20C.yyy)\x20);\x0a\x09\x20\x20vec3\x20x0\x20=\x20\x20\x20v\x20-\x20i\x20+\x20dot(i,\x20C.xxx)\x20;\x0a\x0a\x09//\x20Other\x20corners\x0a\x09\x20\x20vec3\x20g\x20=\x20step(x0.yzx,\x20x0.xyz);\x0a\x09\x20\x20vec3\x20l\x20=\x201.0\x20-\x20g;\x0a\x09\x20\x20vec3\x20i1\x20=\x20min(\x20g.xyz,\x20l.zxy\x20);\x0a\x09\x20\x20vec3\x20i2\x20=\x20max(\x20g.xyz,\x20l.zxy\x20);\x0a\x0a\x09\x20\x20//\x20\x20\x20x0\x20=\x20x0\x20-\x200.0\x20+\x200.0\x20*\x20C.xxx;\x0a\x09\x20\x20//\x20\x20\x20x1\x20=\x20x0\x20-\x20i1\x20\x20+\x201.0\x20*\x20C.xxx;\x0a\x09\x20\x20//\x20\x20\x20x2\x20=\x20x0\x20-\x20i2\x20\x20+\x202.0\x20*\x20C.xxx;\x0a\x09\x20\x20//\x20\x20\x20x3\x20=\x20x0\x20-\x201.0\x20+\x203.0\x20*\x20C.xxx;\x0a\x09\x20\x20vec3\x20x1\x20=\x20x0\x20-\x20i1\x20+\x20C.xxx;\x0a\x09\x20\x20vec3\x20x2\x20=\x20x0\x20-\x20i2\x20+\x20C.yyy;\x20//\x202.0*C.x\x20=\x201/3\x20=\x20C.y\x0a\x09\x20\x20vec3\x20x3\x20=\x20x0\x20-\x20D.yyy;\x20\x20\x20\x20\x20\x20//\x20-1.0+3.0*C.x\x20=\x20-0.5\x20=\x20-D.y\x0a\x0a\x09//\x20Permutations\x0a\x09\x20\x20i\x20=\x20mod289(i);\x20\x0a\x09\x20\x20vec4\x20p\x20=\x20permute(\x20permute(\x20permute(\x20\x0a\x09\x09\x09\x09\x20i.z\x20+\x20vec4(0.0,\x20i1.z,\x20i2.z,\x201.0\x20))\x0a\x09\x09\x09\x20\x20\x20+\x20i.y\x20+\x20vec4(0.0,\x20i1.y,\x20i2.y,\x201.0\x20))\x20\x0a\x09\x09\x09\x20\x20\x20+\x20i.x\x20+\x20vec4(0.0,\x20i1.x,\x20i2.x,\x201.0\x20));\x0a\x0a\x09//\x20Gradients:\x207x7\x20points\x20over\x20a\x20square,\x20mapped\x20onto\x20an\x20octahedron.\x0a\x09//\x20The\x20ring\x20size\x2017*17\x20=\x20289\x20is\x20close\x20to\x20a\x20multiple\x20of\x2049\x20(49*6\x20=\x20294)\x0a\x09\x20\x20float\x20n_\x20=\x200.142857142857;\x20//\x201.0/7.0\x0a\x09\x20\x20vec3\x20\x20ns\x20=\x20n_\x20*\x20D.wyz\x20-\x20D.xzx;\x0a\x0a\x09\x20\x20vec4\x20j\x20=\x20p\x20-\x2049.0\x20*\x20floor(p\x20*\x20ns.z\x20*\x20ns.z);\x20\x20//\x20\x20mod(p,7*7)\x0a\x0a\x09\x20\x20vec4\x20x_\x20=\x20floor(j\x20*\x20ns.z);\x0a\x09\x20\x20vec4\x20y_\x20=\x20floor(j\x20-\x207.0\x20*\x20x_\x20);\x20\x20\x20\x20//\x20mod(j,N)\x0a\x0a\x09\x20\x20vec4\x20x\x20=\x20x_\x20*ns.x\x20+\x20ns.yyyy;\x0a\x09\x20\x20vec4\x20y\x20=\x20y_\x20*ns.x\x20+\x20ns.yyyy;\x0a\x09\x20\x20vec4\x20h\x20=\x201.0\x20-\x20abs(x)\x20-\x20abs(y);\x0a\x0a\x09\x20\x20vec4\x20b0\x20=\x20vec4(\x20x.xy,\x20y.xy\x20);\x0a\x09\x20\x20vec4\x20b1\x20=\x20vec4(\x20x.zw,\x20y.zw\x20);\x0a\x0a\x09\x20\x20//vec4\x20s0\x20=\x20vec4(lessThan(b0,0.0))*2.0\x20-\x201.0;\x0a\x09\x20\x20//vec4\x20s1\x20=\x20vec4(lessThan(b1,0.0))*2.0\x20-\x201.0;\x0a\x09\x20\x20vec4\x20s0\x20=\x20floor(b0)*2.0\x20+\x201.0;\x0a\x09\x20\x20vec4\x20s1\x20=\x20floor(b1)*2.0\x20+\x201.0;\x0a\x09\x20\x20vec4\x20sh\x20=\x20-step(h,\x20vec4(0.0));\x0a\x0a\x09\x20\x20vec4\x20a0\x20=\x20b0.xzyw\x20+\x20s0.xzyw*sh.xxyy\x20;\x0a\x09\x20\x20vec4\x20a1\x20=\x20b1.xzyw\x20+\x20s1.xzyw*sh.zzww\x20;\x0a\x0a\x09\x20\x20vec3\x20p0\x20=\x20vec3(a0.xy,h.x);\x0a\x09\x20\x20vec3\x20p1\x20=\x20vec3(a0.zw,h.y);\x0a\x09\x20\x20vec3\x20p2\x20=\x20vec3(a1.xy,h.z);\x0a\x09\x20\x20vec3\x20p3\x20=\x20vec3(a1.zw,h.w);\x0a\x0a\x09//Normalise\x20gradients\x0a\x09\x20\x20vec4\x20norm\x20=\x20taylorInvSqrt(vec4(dot(p0,p0),\x20dot(p1,p1),\x20dot(p2,\x20p2),\x20dot(p3,p3)));\x0a\x09\x20\x20p0\x20*=\x20norm.x;\x0a\x09\x20\x20p1\x20*=\x20norm.y;\x0a\x09\x20\x20p2\x20*=\x20norm.z;\x0a\x09\x20\x20p3\x20*=\x20norm.w;\x0a\x0a\x09//\x20Mix\x20final\x20noise\x20value\x0a\x09\x20\x20vec4\x20m\x20=\x20max(0.6\x20-\x20vec4(dot(x0,x0),\x20dot(x1,x1),\x20dot(x2,x2),\x20dot(x3,x3)),\x200.0);\x0a\x09\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x09\x20\x20return\x2042.0\x20*\x20dot(\x20m*m,\x20vec4(\x20dot(p0,x0),\x20dot(p1,x1),\x20\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09dot(p2,x2),\x20dot(p3,x3)\x20)\x20);\x0a\x09\x20\x20}\x0a\x0a\x09//\x20Classic\x20Perlin\x20noise\x0a\x09float\x20cnoise(vec2\x20P){\x0a\x09\x20\x20vec4\x20Pi\x20=\x20floor(P.xyxy)\x20+\x20vec4(0.0,\x200.0,\x201.0,\x201.0);\x0a\x09\x20\x20vec4\x20Pf\x20=\x20fract(P.xyxy)\x20-\x20vec4(0.0,\x200.0,\x201.0,\x201.0);\x0a\x09\x20\x20Pi\x20=\x20mod289(Pi);\x20//\x20To\x20avoid\x20truncation\x20effects\x20in\x20permutation\x0a\x09\x20\x20vec4\x20ix\x20=\x20Pi.xzxz;\x0a\x09\x20\x20vec4\x20iy\x20=\x20Pi.yyww;\x0a\x09\x20\x20vec4\x20fx\x20=\x20Pf.xzxz;\x0a\x09\x20\x20vec4\x20fy\x20=\x20Pf.yyww;\x0a\x0a\x09\x20\x20vec4\x20i\x20=\x20permute(permute(ix)\x20+\x20iy);\x0a\x0a\x09\x20\x20vec4\x20gx\x20=\x20fract(i\x20*\x20(1.0\x20/\x2041.0))\x20*\x202.0\x20-\x201.0\x20;\x0a\x09\x20\x20vec4\x20gy\x20=\x20abs(gx)\x20-\x200.5\x20;\x0a\x09\x20\x20vec4\x20tx\x20=\x20floor(gx\x20+\x200.5);\x0a\x09\x20\x20gx\x20=\x20gx\x20-\x20tx;\x0a\x0a\x09\x20\x20vec2\x20g00\x20=\x20vec2(gx.x,gy.x);\x0a\x09\x20\x20vec2\x20g10\x20=\x20vec2(gx.y,gy.y);\x0a\x09\x20\x20vec2\x20g01\x20=\x20vec2(gx.z,gy.z);\x0a\x09\x20\x20vec2\x20g11\x20=\x20vec2(gx.w,gy.w);\x0a\x0a\x09\x20\x20vec4\x20norm\x20=\x20taylorInvSqrt(vec4(dot(g00,\x20g00),\x20dot(g01,\x20g01),\x20dot(g10,\x20g10),\x20dot(g11,\x20g11)));\x0a\x09\x20\x20g00\x20*=\x20norm.x;\x20\x20\x0a\x09\x20\x20g01\x20*=\x20norm.y;\x20\x20\x0a\x09\x20\x20g10\x20*=\x20norm.z;\x20\x20\x0a\x09\x20\x20g11\x20*=\x20norm.w;\x20\x20\x0a\x0a\x09\x20\x20float\x20n00\x20=\x20dot(g00,\x20vec2(fx.x,\x20fy.x));\x0a\x09\x20\x20float\x20n10\x20=\x20dot(g10,\x20vec2(fx.y,\x20fy.y));\x0a\x09\x20\x20float\x20n01\x20=\x20dot(g01,\x20vec2(fx.z,\x20fy.z));\x0a\x09\x20\x20float\x20n11\x20=\x20dot(g11,\x20vec2(fx.w,\x20fy.w));\x0a\x0a\x09\x20\x20vec2\x20fade_xy\x20=\x20fade(Pf.xy);\x0a\x09\x20\x20vec2\x20n_x\x20=\x20mix(vec2(n00,\x20n01),\x20vec2(n10,\x20n11),\x20fade_xy.x);\x0a\x09\x20\x20float\x20n_xy\x20=\x20mix(n_x.x,\x20n_x.y,\x20fade_xy.y);\x0a\x09\x20\x20return\x202.3\x20*\x20n_xy;\x0a\x09}\x0a\x0a\x09//\x20Classic\x20Perlin\x20noise,\x20periodic\x20variant\x0a\x09float\x20pnoise(vec2\x20P,\x20vec2\x20rep){\x0a\x09\x20\x20vec4\x20Pi\x20=\x20floor(P.xyxy)\x20+\x20vec4(0.0,\x200.0,\x201.0,\x201.0);\x0a\x09\x20\x20vec4\x20Pf\x20=\x20fract(P.xyxy)\x20-\x20vec4(0.0,\x200.0,\x201.0,\x201.0);\x0a\x09\x20\x20Pi\x20=\x20mod(Pi,\x20rep.xyxy);\x20//\x20To\x20create\x20noise\x20with\x20explicit\x20period\x0a\x09\x20\x20Pi\x20=\x20mod289(Pi);\x20\x20\x20\x20\x20\x20\x20\x20//\x20To\x20avoid\x20truncation\x20effects\x20in\x20permutation\x0a\x09\x20\x20vec4\x20ix\x20=\x20Pi.xzxz;\x0a\x09\x20\x20vec4\x20iy\x20=\x20Pi.yyww;\x0a\x09\x20\x20vec4\x20fx\x20=\x20Pf.xzxz;\x0a\x09\x20\x20vec4\x20fy\x20=\x20Pf.yyww;\x0a\x0a\x09\x20\x20vec4\x20i\x20=\x20permute(permute(ix)\x20+\x20iy);\x0a\x0a\x09\x20\x20vec4\x20gx\x20=\x20fract(i\x20*\x20(1.0\x20/\x2041.0))\x20*\x202.0\x20-\x201.0\x20;\x0a\x09\x20\x20vec4\x20gy\x20=\x20abs(gx)\x20-\x200.5\x20;\x0a\x09\x20\x20vec4\x20tx\x20=\x20floor(gx\x20+\x200.5);\x0a\x09\x20\x20gx\x20=\x20gx\x20-\x20tx;\x0a\x0a\x09\x20\x20vec2\x20g00\x20=\x20vec2(gx.x,gy.x);\x0a\x09\x20\x20vec2\x20g10\x20=\x20vec2(gx.y,gy.y);\x0a\x09\x20\x20vec2\x20g01\x20=\x20vec2(gx.z,gy.z);\x0a\x09\x20\x20vec2\x20g11\x20=\x20vec2(gx.w,gy.w);\x0a\x0a\x09\x20\x20vec4\x20norm\x20=\x20taylorInvSqrt(vec4(dot(g00,\x20g00),\x20dot(g01,\x20g01),\x20dot(g10,\x20g10),\x20dot(g11,\x20g11)));\x0a\x09\x20\x20g00\x20*=\x20norm.x;\x20\x20\x0a\x09\x20\x20g01\x20*=\x20norm.y;\x20\x20\x0a\x09\x20\x20g10\x20*=\x20norm.z;\x20\x20\x0a\x09\x20\x20g11\x20*=\x20norm.w;\x20\x20\x0a\x0a\x09\x20\x20float\x20n00\x20=\x20dot(g00,\x20vec2(fx.x,\x20fy.x));\x0a\x09\x20\x20float\x20n10\x20=\x20dot(g10,\x20vec2(fx.y,\x20fy.y));\x0a\x09\x20\x20float\x20n01\x20=\x20dot(g01,\x20vec2(fx.z,\x20fy.z));\x0a\x09\x20\x20float\x20n11\x20=\x20dot(g11,\x20vec2(fx.w,\x20fy.w));\x0a\x0a\x09\x20\x20vec2\x20fade_xy\x20=\x20fade(Pf.xy);\x0a\x09\x20\x20vec2\x20n_x\x20=\x20mix(vec2(n00,\x20n01),\x20vec2(n10,\x20n11),\x20fade_xy.x);\x0a\x09\x20\x20float\x20n_xy\x20=\x20mix(n_x.x,\x20n_x.y,\x20fade_xy.y);\x0a\x09\x20\x20return\x202.3\x20*\x20n_xy;\x0a\x09}\x0a\x09//\x20Classic\x20Perlin\x20noise\x0a\x09float\x20cnoise(vec3\x20P)\x0a\x09{\x0a\x09\x20\x20vec3\x20Pi0\x20=\x20floor(P);\x20//\x20Integer\x20part\x20for\x20indexing\x0a\x09\x20\x20vec3\x20Pi1\x20=\x20Pi0\x20+\x20vec3(1.0);\x20//\x20Integer\x20part\x20+\x201\x0a\x09\x20\x20Pi0\x20=\x20mod289(Pi0);\x0a\x09\x20\x20Pi1\x20=\x20mod289(Pi1);\x0a\x09\x20\x20vec3\x20Pf0\x20=\x20fract(P);\x20//\x20Fractional\x20part\x20for\x20interpolation\x0a\x09\x20\x20vec3\x20Pf1\x20=\x20Pf0\x20-\x20vec3(1.0);\x20//\x20Fractional\x20part\x20-\x201.0\x0a\x09\x20\x20vec4\x20ix\x20=\x20vec4(Pi0.x,\x20Pi1.x,\x20Pi0.x,\x20Pi1.x);\x0a\x09\x20\x20vec4\x20iy\x20=\x20vec4(Pi0.yy,\x20Pi1.yy);\x0a\x09\x20\x20vec4\x20iz0\x20=\x20Pi0.zzzz;\x0a\x09\x20\x20vec4\x20iz1\x20=\x20Pi1.zzzz;\x0a\x0a\x09\x20\x20vec4\x20ixy\x20=\x20permute(permute(ix)\x20+\x20iy);\x0a\x09\x20\x20vec4\x20ixy0\x20=\x20permute(ixy\x20+\x20iz0);\x0a\x09\x20\x20vec4\x20ixy1\x20=\x20permute(ixy\x20+\x20iz1);\x0a\x0a\x09\x20\x20vec4\x20gx0\x20=\x20ixy0\x20*\x20(1.0\x20/\x207.0);\x0a\x09\x20\x20vec4\x20gy0\x20=\x20fract(floor(gx0)\x20*\x20(1.0\x20/\x207.0))\x20-\x200.5;\x0a\x09\x20\x20gx0\x20=\x20fract(gx0);\x0a\x09\x20\x20vec4\x20gz0\x20=\x20vec4(0.5)\x20-\x20abs(gx0)\x20-\x20abs(gy0);\x0a\x09\x20\x20vec4\x20sz0\x20=\x20step(gz0,\x20vec4(0.0));\x0a\x09\x20\x20gx0\x20-=\x20sz0\x20*\x20(step(0.0,\x20gx0)\x20-\x200.5);\x0a\x09\x20\x20gy0\x20-=\x20sz0\x20*\x20(step(0.0,\x20gy0)\x20-\x200.5);\x0a\x0a\x09\x20\x20vec4\x20gx1\x20=\x20ixy1\x20*\x20(1.0\x20/\x207.0);\x0a\x09\x20\x20vec4\x20gy1\x20=\x20fract(floor(gx1)\x20*\x20(1.0\x20/\x207.0))\x20-\x200.5;\x0a\x09\x20\x20gx1\x20=\x20fract(gx1);\x0a\x09\x20\x20vec4\x20gz1\x20=\x20vec4(0.5)\x20-\x20abs(gx1)\x20-\x20abs(gy1);\x0a\x09\x20\x20vec4\x20sz1\x20=\x20step(gz1,\x20vec4(0.0));\x0a\x09\x20\x20gx1\x20-=\x20sz1\x20*\x20(step(0.0,\x20gx1)\x20-\x200.5);\x0a\x09\x20\x20gy1\x20-=\x20sz1\x20*\x20(step(0.0,\x20gy1)\x20-\x200.5);\x0a\x0a\x09\x20\x20vec3\x20g000\x20=\x20vec3(gx0.x,gy0.x,gz0.x);\x0a\x09\x20\x20vec3\x20g100\x20=\x20vec3(gx0.y,gy0.y,gz0.y);\x0a\x09\x20\x20vec3\x20g010\x20=\x20vec3(gx0.z,gy0.z,gz0.z);\x0a\x09\x20\x20vec3\x20g110\x20=\x20vec3(gx0.w,gy0.w,gz0.w);\x0a\x09\x20\x20vec3\x20g001\x20=\x20vec3(gx1.x,gy1.x,gz1.x);\x0a\x09\x20\x20vec3\x20g101\x20=\x20vec3(gx1.y,gy1.y,gz1.y);\x0a\x09\x20\x20vec3\x20g011\x20=\x20vec3(gx1.z,gy1.z,gz1.z);\x0a\x09\x20\x20vec3\x20g111\x20=\x20vec3(gx1.w,gy1.w,gz1.w);\x0a\x0a\x09\x20\x20vec4\x20norm0\x20=\x20taylorInvSqrt(vec4(dot(g000,\x20g000),\x20dot(g010,\x20g010),\x20dot(g100,\x20g100),\x20dot(g110,\x20g110)));\x0a\x09\x20\x20g000\x20*=\x20norm0.x;\x0a\x09\x20\x20g010\x20*=\x20norm0.y;\x0a\x09\x20\x20g100\x20*=\x20norm0.z;\x0a\x09\x20\x20g110\x20*=\x20norm0.w;\x0a\x09\x20\x20vec4\x20norm1\x20=\x20taylorInvSqrt(vec4(dot(g001,\x20g001),\x20dot(g011,\x20g011),\x20dot(g101,\x20g101),\x20dot(g111,\x20g111)));\x0a\x09\x20\x20g001\x20*=\x20norm1.x;\x0a\x09\x20\x20g011\x20*=\x20norm1.y;\x0a\x09\x20\x20g101\x20*=\x20norm1.z;\x0a\x09\x20\x20g111\x20*=\x20norm1.w;\x0a\x0a\x09\x20\x20float\x20n000\x20=\x20dot(g000,\x20Pf0);\x0a\x09\x20\x20float\x20n100\x20=\x20dot(g100,\x20vec3(Pf1.x,\x20Pf0.yz));\x0a\x09\x20\x20float\x20n010\x20=\x20dot(g010,\x20vec3(Pf0.x,\x20Pf1.y,\x20Pf0.z));\x0a\x09\x20\x20float\x20n110\x20=\x20dot(g110,\x20vec3(Pf1.xy,\x20Pf0.z));\x0a\x09\x20\x20float\x20n001\x20=\x20dot(g001,\x20vec3(Pf0.xy,\x20Pf1.z));\x0a\x09\x20\x20float\x20n101\x20=\x20dot(g101,\x20vec3(Pf1.x,\x20Pf0.y,\x20Pf1.z));\x0a\x09\x20\x20float\x20n011\x20=\x20dot(g011,\x20vec3(Pf0.x,\x20Pf1.yz));\x0a\x09\x20\x20float\x20n111\x20=\x20dot(g111,\x20Pf1);\x0a\x0a\x09\x20\x20vec3\x20fade_xyz\x20=\x20fade(Pf0);\x0a\x09\x20\x20vec4\x20n_z\x20=\x20mix(vec4(n000,\x20n100,\x20n010,\x20n110),\x20vec4(n001,\x20n101,\x20n011,\x20n111),\x20fade_xyz.z);\x0a\x09\x20\x20vec2\x20n_yz\x20=\x20mix(n_z.xy,\x20n_z.zw,\x20fade_xyz.y);\x0a\x09\x20\x20float\x20n_xyz\x20=\x20mix(n_yz.x,\x20n_yz.y,\x20fade_xyz.x);\x20\x0a\x09\x20\x20return\x202.2\x20*\x20n_xyz;\x0a\x09}\x0a\x0a\x09//\x20Classic\x20Perlin\x20noise,\x20periodic\x20variant\x0a\x09float\x20pnoise(vec3\x20P,\x20vec3\x20rep)\x0a\x09{\x0a\x09\x20\x20vec3\x20Pi0\x20=\x20mod(floor(P),\x20rep);\x20//\x20Integer\x20part,\x20modulo\x20period\x0a\x09\x20\x20vec3\x20Pi1\x20=\x20mod(Pi0\x20+\x20vec3(1.0),\x20rep);\x20//\x20Integer\x20part\x20+\x201,\x20mod\x20period\x0a\x09\x20\x20Pi0\x20=\x20mod289(Pi0);\x0a\x09\x20\x20Pi1\x20=\x20mod289(Pi1);\x0a\x09\x20\x20vec3\x20Pf0\x20=\x20fract(P);\x20//\x20Fractional\x20part\x20for\x20interpolation\x0a\x09\x20\x20vec3\x20Pf1\x20=\x20Pf0\x20-\x20vec3(1.0);\x20//\x20Fractional\x20part\x20-\x201.0\x0a\x09\x20\x20vec4\x20ix\x20=\x20vec4(Pi0.x,\x20Pi1.x,\x20Pi0.x,\x20Pi1.x);\x0a\x09\x20\x20vec4\x20iy\x20=\x20vec4(Pi0.yy,\x20Pi1.yy);\x0a\x09\x20\x20vec4\x20iz0\x20=\x20Pi0.zzzz;\x0a\x09\x20\x20vec4\x20iz1\x20=\x20Pi1.zzzz;\x0a\x0a\x09\x20\x20vec4\x20ixy\x20=\x20permute(permute(ix)\x20+\x20iy);\x0a\x09\x20\x20vec4\x20ixy0\x20=\x20permute(ixy\x20+\x20iz0);\x0a\x09\x20\x20vec4\x20ixy1\x20=\x20permute(ixy\x20+\x20iz1);\x0a\x0a\x09\x20\x20vec4\x20gx0\x20=\x20ixy0\x20*\x20(1.0\x20/\x207.0);\x0a\x09\x20\x20vec4\x20gy0\x20=\x20fract(floor(gx0)\x20*\x20(1.0\x20/\x207.0))\x20-\x200.5;\x0a\x09\x20\x20gx0\x20=\x20fract(gx0);\x0a\x09\x20\x20vec4\x20gz0\x20=\x20vec4(0.5)\x20-\x20abs(gx0)\x20-\x20abs(gy0);\x0a\x09\x20\x20vec4\x20sz0\x20=\x20step(gz0,\x20vec4(0.0));\x0a\x09\x20\x20gx0\x20-=\x20sz0\x20*\x20(step(0.0,\x20gx0)\x20-\x200.5);\x0a\x09\x20\x20gy0\x20-=\x20sz0\x20*\x20(step(0.0,\x20gy0)\x20-\x200.5);\x0a\x0a\x09\x20\x20vec4\x20gx1\x20=\x20ixy1\x20*\x20(1.0\x20/\x207.0);\x0a\x09\x20\x20vec4\x20gy1\x20=\x20fract(floor(gx1)\x20*\x20(1.0\x20/\x207.0))\x20-\x200.5;\x0a\x09\x20\x20gx1\x20=\x20fract(gx1);\x0a\x09\x20\x20vec4\x20gz1\x20=\x20vec4(0.5)\x20-\x20abs(gx1)\x20-\x20abs(gy1);\x0a\x09\x20\x20vec4\x20sz1\x20=\x20step(gz1,\x20vec4(0.0));\x0a\x09\x20\x20gx1\x20-=\x20sz1\x20*\x20(step(0.0,\x20gx1)\x20-\x200.5);\x0a\x09\x20\x20gy1\x20-=\x20sz1\x20*\x20(step(0.0,\x20gy1)\x20-\x200.5);\x0a\x0a\x09\x20\x20vec3\x20g000\x20=\x20vec3(gx0.x,gy0.x,gz0.x);\x0a\x09\x20\x20vec3\x20g100\x20=\x20vec3(gx0.y,gy0.y,gz0.y);\x0a\x09\x20\x20vec3\x20g010\x20=\x20vec3(gx0.z,gy0.z,gz0.z);\x0a\x09\x20\x20vec3\x20g110\x20=\x20vec3(gx0.w,gy0.w,gz0.w);\x0a\x09\x20\x20vec3\x20g001\x20=\x20vec3(gx1.x,gy1.x,gz1.x);\x0a\x09\x20\x20vec3\x20g101\x20=\x20vec3(gx1.y,gy1.y,gz1.y);\x0a\x09\x20\x20vec3\x20g011\x20=\x20vec3(gx1.z,gy1.z,gz1.z);\x0a\x09\x20\x20vec3\x20g111\x20=\x20vec3(gx1.w,gy1.w,gz1.w);\x0a\x0a\x09\x20\x20vec4\x20norm0\x20=\x20taylorInvSqrt(vec4(dot(g000,\x20g000),\x20dot(g010,\x20g010),\x20dot(g100,\x20g100),\x20dot(g110,\x20g110)));\x0a\x09\x20\x20g000\x20*=\x20norm0.x;\x0a\x09\x20\x20g010\x20*=\x20norm0.y;\x0a\x09\x20\x20g100\x20*=\x20norm0.z;\x0a\x09\x20\x20g110\x20*=\x20norm0.w;\x0a\x09\x20\x20vec4\x20norm1\x20=\x20taylorInvSqrt(vec4(dot(g001,\x20g001),\x20dot(g011,\x20g011),\x20dot(g101,\x20g101),\x20dot(g111,\x20g111)));\x0a\x09\x20\x20g001\x20*=\x20norm1.x;\x0a\x09\x20\x20g011\x20*=\x20norm1.y;\x0a\x09\x20\x20g101\x20*=\x20norm1.z;\x0a\x09\x20\x20g111\x20*=\x20norm1.w;\x0a\x0a\x09\x20\x20float\x20n000\x20=\x20dot(g000,\x20Pf0);\x0a\x09\x20\x20float\x20n100\x20=\x20dot(g100,\x20vec3(Pf1.x,\x20Pf0.yz));\x0a\x09\x20\x20float\x20n010\x20=\x20dot(g010,\x20vec3(Pf0.x,\x20Pf1.y,\x20Pf0.z));\x0a\x09\x20\x20float\x20n110\x20=\x20dot(g110,\x20vec3(Pf1.xy,\x20Pf0.z));\x0a\x09\x20\x20float\x20n001\x20=\x20dot(g001,\x20vec3(Pf0.xy,\x20Pf1.z));\x0a\x09\x20\x20float\x20n101\x20=\x20dot(g101,\x20vec3(Pf1.x,\x20Pf0.y,\x20Pf1.z));\x0a\x09\x20\x20float\x20n011\x20=\x20dot(g011,\x20vec3(Pf0.x,\x20Pf1.yz));\x0a\x09\x20\x20float\x20n111\x20=\x20dot(g111,\x20Pf1);\x0a\x0a\x09\x20\x20vec3\x20fade_xyz\x20=\x20fade(Pf0);\x0a\x09\x20\x20vec4\x20n_z\x20=\x20mix(vec4(n000,\x20n100,\x20n010,\x20n110),\x20vec4(n001,\x20n101,\x20n011,\x20n111),\x20fade_xyz.z);\x0a\x09\x20\x20vec2\x20n_yz\x20=\x20mix(n_z.xy,\x20n_z.zw,\x20fade_xyz.y);\x0a\x09\x20\x20float\x20n_xyz\x20=\x20mix(n_yz.x,\x20n_yz.y,\x20fade_xyz.x);\x20\x0a\x09\x20\x20return\x202.2\x20*\x20n_xyz;\x0a\x09}\x0a\x09\x0a\x09float\x20turbulence(\x20vec3\x20p\x20)\x20{\x0a\x09\x20\x20float\x20w\x20=\x20100.0;\x0a\x09\x20\x20float\x20t\x20=\x20-.5;\x0a\x0a\x09\x20\x20for\x20(float\x20f\x20=\x201.0\x20;\x20f\x20<=\x2010.0\x20;\x20f++\x20){\x0a\x09\x09float\x20power\x20=\x20pow(\x202.0,\x20f\x20);\x0a\x09\x09t\x20+=\x20abs(\x20pnoise(\x20vec3(\x20power\x20*\x20p\x20),\x20vec3(\x2010.0,\x2010.0,\x2010.0\x20)\x20)\x20/\x20power\x20);\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20return\x20t;\x0a\x09}\x0a\x09\x0a\x09float\x20turbulence3(\x20vec3\x20p\x20)\x20{\x0a\x09\x20\x20float\x20w\x20=\x20100.0;\x0a\x09\x20\x20float\x20t\x20=\x20-.5;\x0a\x0a\x09\x20\x20for\x20(float\x20f\x20=\x201.0\x20;\x20f\x20<=\x203.0\x20;\x20f++\x20){\x0a\x09\x09float\x20power\x20=\x20pow(\x202.0,\x20f\x20);\x0a\x09\x09t\x20+=\x20abs(\x20pnoise(\x20vec3(\x20power\x20*\x20p\x20),\x20vec3(\x203.0,\x203.0,\x203.0\x20)\x20)\x20/\x20power\x20);\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20return\x20t;\x0a\x09}\x0a\x09\x0a\x09float\x20turbulence6(\x20vec3\x20p\x20)\x20{\x0a\x09\x20\x20float\x20w\x20=\x20100.0;\x0a\x09\x20\x20float\x20t\x20=\x20-.5;\x0a\x0a\x09\x20\x20for\x20(float\x20f\x20=\x201.0\x20;\x20f\x20<=\x206.0\x20;\x20f++\x20){\x0a\x09\x09float\x20power\x20=\x20pow(\x202.0,\x20f\x20);\x0a\x09\x09t\x20+=\x20abs(\x20pnoise(\x20vec3(\x20power\x20*\x20p\x20),\x20vec3(\x206.0,\x206.0,\x206.0\x20)\x20)\x20/\x20power\x20);\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20return\x20t;\x0a\x09}\x0a\x09\x0a\x09//\x0a\x09//\x202-D\x20tiling\x20simplex\x20noise\x20with\x20rotating\x20gradients\x20and\x20analytical\x20derivative.\x0a\x09//\x20The\x20first\x20component\x20of\x20the\x203-element\x20return\x20vector\x20is\x20the\x20noise\x20value,\x0a\x09//\x20and\x20the\x20second\x20and\x20third\x20components\x20are\x20the\x20x\x20and\x20y\x20partial\x20derivatives.\x0a\x09//\x0a\x09vec3\x20psrdnoise(vec2\x20pos,\x20vec2\x20per,\x20float\x20rot)\x20{\x0a\x09\x20\x20//\x20Hack:\x20offset\x20y\x20slightly\x20to\x20hide\x20some\x20rare\x20artifacts\x0a\x09\x20\x20pos.y\x20+=\x200.01;\x0a\x09\x20\x20//\x20Skew\x20to\x20hexagonal\x20grid\x0a\x09\x20\x20vec2\x20uv\x20=\x20vec2(pos.x\x20+\x20pos.y*0.5,\x20pos.y);\x0a\x20\x20\x0a\x09\x20\x20vec2\x20i0\x20=\x20floor(uv);\x0a\x09\x20\x20vec2\x20f0\x20=\x20fract(uv);\x0a\x09\x20\x20//\x20Traversal\x20order\x0a\x09\x20\x20vec2\x20i1\x20=\x20(f0.x\x20>\x20f0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x0a\x09\x20\x20//\x20Unskewed\x20grid\x20points\x20in\x20(x,y)\x20space\x0a\x09\x20\x20vec2\x20p0\x20=\x20vec2(i0.x\x20-\x20i0.y\x20*\x200.5,\x20i0.y);\x0a\x09\x20\x20vec2\x20p1\x20=\x20vec2(p0.x\x20+\x20i1.x\x20-\x20i1.y\x20*\x200.5,\x20p0.y\x20+\x20i1.y);\x0a\x09\x20\x20vec2\x20p2\x20=\x20vec2(p0.x\x20+\x200.5,\x20p0.y\x20+\x201.0);\x0a\x0a\x09\x20\x20//\x20Integer\x20grid\x20point\x20indices\x20in\x20(u,v)\x20space\x0a\x09\x20\x20i1\x20=\x20i0\x20+\x20i1;\x0a\x09\x20\x20vec2\x20i2\x20=\x20i0\x20+\x20vec2(1.0,\x201.0);\x0a\x0a\x09\x20\x20//\x20Vectors\x20in\x20unskewed\x20(x,y)\x20coordinates\x20from\x0a\x09\x20\x20//\x20each\x20of\x20the\x20simplex\x20corners\x20to\x20the\x20evaluation\x20point\x0a\x09\x20\x20vec2\x20d0\x20=\x20pos\x20-\x20p0;\x0a\x09\x20\x20vec2\x20d1\x20=\x20pos\x20-\x20p1;\x0a\x09\x20\x20vec2\x20d2\x20=\x20pos\x20-\x20p2;\x0a\x0a\x09\x20\x20//\x20Wrap\x20i0,\x20i1\x20and\x20i2\x20to\x20the\x20desired\x20period\x20before\x20gradient\x20hashing:\x0a\x09\x20\x20//\x20wrap\x20points\x20in\x20(x,y),\x20map\x20to\x20(u,v)\x0a\x09\x20\x20vec3\x20xw\x20=\x20mod(vec3(p0.x,\x20p1.x,\x20p2.x),\x20per.x);\x0a\x09\x20\x20vec3\x20yw\x20=\x20mod(vec3(p0.y,\x20p1.y,\x20p2.y),\x20per.y);\x0a\x09\x20\x20vec3\x20iuw\x20=\x20xw\x20+\x200.5\x20*\x20yw;\x0a\x09\x20\x20vec3\x20ivw\x20=\x20yw;\x0a\x20\x20\x0a\x09\x20\x20//\x20Create\x20gradients\x20from\x20indices\x0a\x09\x20\x20vec2\x20g0\x20=\x20rgrad2(vec2(iuw.x,\x20ivw.x),\x20rot);\x0a\x09\x20\x20vec2\x20g1\x20=\x20rgrad2(vec2(iuw.y,\x20ivw.y),\x20rot);\x0a\x09\x20\x20vec2\x20g2\x20=\x20rgrad2(vec2(iuw.z,\x20ivw.z),\x20rot);\x0a\x0a\x09\x20\x20//\x20Gradients\x20dot\x20vectors\x20to\x20corresponding\x20corners\x0a\x09\x20\x20//\x20(The\x20derivatives\x20of\x20this\x20are\x20simply\x20the\x20gradients)\x0a\x09\x20\x20vec3\x20w\x20=\x20vec3(dot(g0,\x20d0),\x20dot(g1,\x20d1),\x20dot(g2,\x20d2));\x0a\x20\x20\x0a\x09\x20\x20//\x20Radial\x20weights\x20from\x20corners\x0a\x09\x20\x20//\x200.8\x20is\x20the\x20square\x20of\x202/sqrt(5),\x20the\x20distance\x20from\x0a\x09\x20\x20//\x20a\x20grid\x20point\x20to\x20the\x20nearest\x20simplex\x20boundary\x0a\x09\x20\x20vec3\x20t\x20=\x200.8\x20-\x20vec3(dot(d0,\x20d0),\x20dot(d1,\x20d1),\x20dot(d2,\x20d2));\x0a\x0a\x09\x20\x20//\x20Partial\x20derivatives\x20for\x20analytical\x20gradient\x20computation\x0a\x09\x20\x20vec3\x20dtdx\x20=\x20-2.0\x20*\x20vec3(d0.x,\x20d1.x,\x20d2.x);\x0a\x09\x20\x20vec3\x20dtdy\x20=\x20-2.0\x20*\x20vec3(d0.y,\x20d1.y,\x20d2.y);\x0a\x0a\x09\x20\x20//\x20Set\x20influence\x20of\x20each\x20surflet\x20to\x20zero\x20outside\x20radius\x20sqrt(0.8)\x0a\x09\x20\x20if\x20(t.x\x20<\x200.0)\x20{\x0a\x09\x09dtdx.x\x20=\x200.0;\x0a\x09\x09dtdy.x\x20=\x200.0;\x0a\x09\x09t.x\x20=\x200.0;\x0a\x09\x20\x20}\x0a\x09\x20\x20if\x20(t.y\x20<\x200.0)\x20{\x0a\x09\x09dtdx.y\x20=\x200.0;\x0a\x09\x09dtdy.y\x20=\x200.0;\x0a\x09\x09t.y\x20=\x200.0;\x0a\x09\x20\x20}\x0a\x09\x20\x20if\x20(t.z\x20<\x200.0)\x20{\x0a\x09\x09dtdx.z\x20=\x200.0;\x0a\x09\x09dtdy.z\x20=\x200.0;\x0a\x09\x09t.z\x20=\x200.0;\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20//\x20Fourth\x20power\x20of\x20t\x20(and\x20third\x20power\x20for\x20derivative)\x0a\x09\x20\x20vec3\x20t2\x20=\x20t\x20*\x20t;\x0a\x09\x20\x20vec3\x20t4\x20=\x20t2\x20*\x20t2;\x0a\x09\x20\x20vec3\x20t3\x20=\x20t2\x20*\x20t;\x0a\x20\x20\x0a\x09\x20\x20//\x20Final\x20noise\x20value\x20is:\x0a\x09\x20\x20//\x20sum\x20of\x20((radial\x20weights)\x20times\x20(gradient\x20dot\x20vector\x20from\x20corner))\x0a\x09\x20\x20float\x20n\x20=\x20dot(t4,\x20w);\x0a\x20\x20\x0a\x09\x20\x20//\x20Final\x20analytical\x20derivative\x20(gradient\x20of\x20a\x20sum\x20of\x20scalar\x20products)\x0a\x09\x20\x20vec2\x20dt0\x20=\x20vec2(dtdx.x,\x20dtdy.x)\x20*\x204.0\x20*\x20t3.x;\x0a\x09\x20\x20vec2\x20dn0\x20=\x20t4.x\x20*\x20g0\x20+\x20dt0\x20*\x20w.x;\x0a\x09\x20\x20vec2\x20dt1\x20=\x20vec2(dtdx.y,\x20dtdy.y)\x20*\x204.0\x20*\x20t3.y;\x0a\x09\x20\x20vec2\x20dn1\x20=\x20t4.y\x20*\x20g1\x20+\x20dt1\x20*\x20w.y;\x0a\x09\x20\x20vec2\x20dt2\x20=\x20vec2(dtdx.z,\x20dtdy.z)\x20*\x204.0\x20*\x20t3.z;\x0a\x09\x20\x20vec2\x20dn2\x20=\x20t4.z\x20*\x20g2\x20+\x20dt2\x20*\x20w.z;\x0a\x0a\x09\x20\x20return\x2011.0*vec3(n,\x20dn0\x20+\x20dn1\x20+\x20dn2);\x0a\x09}\x0a\x0a\x09//\x0a\x09//\x202-D\x20tiling\x20simplex\x20noise\x20with\x20fixed\x20gradients\x0a\x09//\x20and\x20analytical\x20derivative.\x0a\x09//\x20This\x20function\x20is\x20implemented\x20as\x20a\x20wrapper\x20to\x20\x22psrdnoise\x22,\x0a\x09//\x20at\x20the\x20minimal\x20cost\x20of\x20three\x20extra\x20additions.\x0a\x09//\x0a\x09vec3\x20psdnoise(vec2\x20pos,\x20vec2\x20per)\x20{\x0a\x09\x20\x20return\x20psrdnoise(pos,\x20per,\x200.0);\x0a\x09}\x0a\x0a\x09//\x0a\x09//\x202-D\x20tiling\x20simplex\x20noise\x20with\x20rotating\x20gradients,\x0a\x09//\x20but\x20without\x20the\x20analytical\x20derivative.\x0a\x09//\x0a\x09float\x20psrnoise(vec2\x20pos,\x20vec2\x20per,\x20float\x20rot)\x20{\x0a\x09\x20\x20//\x20Offset\x20y\x20slightly\x20to\x20hide\x20some\x20rare\x20artifacts\x0a\x09\x20\x20pos.y\x20+=\x200.001;\x0a\x09\x20\x20//\x20Skew\x20to\x20hexagonal\x20grid\x0a\x09\x20\x20vec2\x20uv\x20=\x20vec2(pos.x\x20+\x20pos.y*0.5,\x20pos.y);\x0a\x20\x20\x0a\x09\x20\x20vec2\x20i0\x20=\x20floor(uv);\x0a\x09\x20\x20vec2\x20f0\x20=\x20fract(uv);\x0a\x09\x20\x20//\x20Traversal\x20order\x0a\x09\x20\x20vec2\x20i1\x20=\x20(f0.x\x20>\x20f0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x0a\x09\x20\x20//\x20Unskewed\x20grid\x20points\x20in\x20(x,y)\x20space\x0a\x09\x20\x20vec2\x20p0\x20=\x20vec2(i0.x\x20-\x20i0.y\x20*\x200.5,\x20i0.y);\x0a\x09\x20\x20vec2\x20p1\x20=\x20vec2(p0.x\x20+\x20i1.x\x20-\x20i1.y\x20*\x200.5,\x20p0.y\x20+\x20i1.y);\x0a\x09\x20\x20vec2\x20p2\x20=\x20vec2(p0.x\x20+\x200.5,\x20p0.y\x20+\x201.0);\x0a\x0a\x09\x20\x20//\x20Integer\x20grid\x20point\x20indices\x20in\x20(u,v)\x20space\x0a\x09\x20\x20i1\x20=\x20i0\x20+\x20i1;\x0a\x09\x20\x20vec2\x20i2\x20=\x20i0\x20+\x20vec2(1.0,\x201.0);\x0a\x0a\x09\x20\x20//\x20Vectors\x20in\x20unskewed\x20(x,y)\x20coordinates\x20from\x0a\x09\x20\x20//\x20each\x20of\x20the\x20simplex\x20corners\x20to\x20the\x20evaluation\x20point\x0a\x09\x20\x20vec2\x20d0\x20=\x20pos\x20-\x20p0;\x0a\x09\x20\x20vec2\x20d1\x20=\x20pos\x20-\x20p1;\x0a\x09\x20\x20vec2\x20d2\x20=\x20pos\x20-\x20p2;\x0a\x0a\x09\x20\x20//\x20Wrap\x20i0,\x20i1\x20and\x20i2\x20to\x20the\x20desired\x20period\x20before\x20gradient\x20hashing:\x0a\x09\x20\x20//\x20wrap\x20points\x20in\x20(x,y),\x20map\x20to\x20(u,v)\x0a\x09\x20\x20vec3\x20xw\x20=\x20mod(vec3(p0.x,\x20p1.x,\x20p2.x),\x20per.x);\x0a\x09\x20\x20vec3\x20yw\x20=\x20mod(vec3(p0.y,\x20p1.y,\x20p2.y),\x20per.y);\x0a\x09\x20\x20vec3\x20iuw\x20=\x20xw\x20+\x200.5\x20*\x20yw;\x0a\x09\x20\x20vec3\x20ivw\x20=\x20yw;\x0a\x20\x20\x0a\x09\x20\x20//\x20Create\x20gradients\x20from\x20indices\x0a\x09\x20\x20vec2\x20g0\x20=\x20rgrad2(vec2(iuw.x,\x20ivw.x),\x20rot);\x0a\x09\x20\x20vec2\x20g1\x20=\x20rgrad2(vec2(iuw.y,\x20ivw.y),\x20rot);\x0a\x09\x20\x20vec2\x20g2\x20=\x20rgrad2(vec2(iuw.z,\x20ivw.z),\x20rot);\x0a\x0a\x09\x20\x20//\x20Gradients\x20dot\x20vectors\x20to\x20corresponding\x20corners\x0a\x09\x20\x20//\x20(The\x20derivatives\x20of\x20this\x20are\x20simply\x20the\x20gradients)\x0a\x09\x20\x20vec3\x20w\x20=\x20vec3(dot(g0,\x20d0),\x20dot(g1,\x20d1),\x20dot(g2,\x20d2));\x0a\x20\x20\x0a\x09\x20\x20//\x20Radial\x20weights\x20from\x20corners\x0a\x09\x20\x20//\x200.8\x20is\x20the\x20square\x20of\x202/sqrt(5),\x20the\x20distance\x20from\x0a\x09\x20\x20//\x20a\x20grid\x20point\x20to\x20the\x20nearest\x20simplex\x20boundary\x0a\x09\x20\x20vec3\x20t\x20=\x200.8\x20-\x20vec3(dot(d0,\x20d0),\x20dot(d1,\x20d1),\x20dot(d2,\x20d2));\x0a\x0a\x09\x20\x20//\x20Set\x20influence\x20of\x20each\x20surflet\x20to\x20zero\x20outside\x20radius\x20sqrt(0.8)\x0a\x09\x20\x20t\x20=\x20max(t,\x200.0);\x0a\x0a\x09\x20\x20//\x20Fourth\x20power\x20of\x20t\x0a\x09\x20\x20vec3\x20t2\x20=\x20t\x20*\x20t;\x0a\x09\x20\x20vec3\x20t4\x20=\x20t2\x20*\x20t2;\x0a\x20\x20\x0a\x09\x20\x20//\x20Final\x20noise\x20value\x20is:\x0a\x09\x20\x20//\x20sum\x20of\x20((radial\x20weights)\x20times\x20(gradient\x20dot\x20vector\x20from\x20corner))\x0a\x09\x20\x20float\x20n\x20=\x20dot(t4,\x20w);\x0a\x20\x20\x0a\x09\x20\x20//\x20Rescale\x20to\x20cover\x20the\x20range\x20[-1,1]\x20reasonably\x20well\x0a\x09\x20\x20return\x2011.0*n;\x0a\x09}\x0a\x0a\x09//\x0a\x09//\x202-D\x20tiling\x20simplex\x20noise\x20with\x20fixed\x20gradients,\x0a\x09//\x20without\x20the\x20analytical\x20derivative.\x0a\x09//\x20This\x20function\x20is\x20implemented\x20as\x20a\x20wrapper\x20to\x20\x22psrnoise\x22,\x0a\x09//\x20at\x20the\x20minimal\x20cost\x20of\x20three\x20extra\x20additions.\x0a\x09//\x0a\x09float\x20psnoise(vec2\x20pos,\x20vec2\x20per)\x20{\x0a\x09\x20\x20return\x20psrnoise(pos,\x20per,\x200.0);\x0a\x09}\x0a\x0a\x09//\x0a\x09//\x202-D\x20non-tiling\x20simplex\x20noise\x20with\x20rotating\x20gradients\x20and\x20analytical\x20derivative.\x0a\x09//\x20The\x20first\x20component\x20of\x20the\x203-element\x20return\x20vector\x20is\x20the\x20noise\x20value,\x0a\x09//\x20and\x20the\x20second\x20and\x20third\x20components\x20are\x20the\x20x\x20and\x20y\x20partial\x20derivatives.\x0a\x09//\x0a\x09vec3\x20srdnoise(vec2\x20pos,\x20float\x20rot)\x20{\x0a\x09\x20\x20//\x20Offset\x20y\x20slightly\x20to\x20hide\x20some\x20rare\x20artifacts\x0a\x09\x20\x20pos.y\x20+=\x200.001;\x0a\x09\x20\x20//\x20Skew\x20to\x20hexagonal\x20grid\x0a\x09\x20\x20vec2\x20uv\x20=\x20vec2(pos.x\x20+\x20pos.y*0.5,\x20pos.y);\x0a\x20\x20\x0a\x09\x20\x20vec2\x20i0\x20=\x20floor(uv);\x0a\x09\x20\x20vec2\x20f0\x20=\x20fract(uv);\x0a\x09\x20\x20//\x20Traversal\x20order\x0a\x09\x20\x20vec2\x20i1\x20=\x20(f0.x\x20>\x20f0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x0a\x09\x20\x20//\x20Unskewed\x20grid\x20points\x20in\x20(x,y)\x20space\x0a\x09\x20\x20vec2\x20p0\x20=\x20vec2(i0.x\x20-\x20i0.y\x20*\x200.5,\x20i0.y);\x0a\x09\x20\x20vec2\x20p1\x20=\x20vec2(p0.x\x20+\x20i1.x\x20-\x20i1.y\x20*\x200.5,\x20p0.y\x20+\x20i1.y);\x0a\x09\x20\x20vec2\x20p2\x20=\x20vec2(p0.x\x20+\x200.5,\x20p0.y\x20+\x201.0);\x0a\x0a\x09\x20\x20//\x20Integer\x20grid\x20point\x20indices\x20in\x20(u,v)\x20space\x0a\x09\x20\x20i1\x20=\x20i0\x20+\x20i1;\x0a\x09\x20\x20vec2\x20i2\x20=\x20i0\x20+\x20vec2(1.0,\x201.0);\x0a\x0a\x09\x20\x20//\x20Vectors\x20in\x20unskewed\x20(x,y)\x20coordinates\x20from\x0a\x09\x20\x20//\x20each\x20of\x20the\x20simplex\x20corners\x20to\x20the\x20evaluation\x20point\x0a\x09\x20\x20vec2\x20d0\x20=\x20pos\x20-\x20p0;\x0a\x09\x20\x20vec2\x20d1\x20=\x20pos\x20-\x20p1;\x0a\x09\x20\x20vec2\x20d2\x20=\x20pos\x20-\x20p2;\x0a\x0a\x09\x20\x20vec3\x20x\x20=\x20vec3(p0.x,\x20p1.x,\x20p2.x);\x0a\x09\x20\x20vec3\x20y\x20=\x20vec3(p0.y,\x20p1.y,\x20p2.y);\x0a\x09\x20\x20vec3\x20iuw\x20=\x20x\x20+\x200.5\x20*\x20y;\x0a\x09\x20\x20vec3\x20ivw\x20=\x20y;\x0a\x20\x20\x0a\x09\x20\x20//\x20Avoid\x20precision\x20issues\x20in\x20permutation\x0a\x09\x20\x20iuw\x20=\x20mod289(iuw);\x0a\x09\x20\x20ivw\x20=\x20mod289(ivw);\x0a\x0a\x09\x20\x20//\x20Create\x20gradients\x20from\x20indices\x0a\x09\x20\x20vec2\x20g0\x20=\x20rgrad2(vec2(iuw.x,\x20ivw.x),\x20rot);\x0a\x09\x20\x20vec2\x20g1\x20=\x20rgrad2(vec2(iuw.y,\x20ivw.y),\x20rot);\x0a\x09\x20\x20vec2\x20g2\x20=\x20rgrad2(vec2(iuw.z,\x20ivw.z),\x20rot);\x0a\x0a\x09\x20\x20//\x20Gradients\x20dot\x20vectors\x20to\x20corresponding\x20corners\x0a\x09\x20\x20//\x20(The\x20derivatives\x20of\x20this\x20are\x20simply\x20the\x20gradients)\x0a\x09\x20\x20vec3\x20w\x20=\x20vec3(dot(g0,\x20d0),\x20dot(g1,\x20d1),\x20dot(g2,\x20d2));\x0a\x20\x20\x0a\x09\x20\x20//\x20Radial\x20weights\x20from\x20corners\x0a\x09\x20\x20//\x200.8\x20is\x20the\x20square\x20of\x202/sqrt(5),\x20the\x20distance\x20from\x0a\x09\x20\x20//\x20a\x20grid\x20point\x20to\x20the\x20nearest\x20simplex\x20boundary\x0a\x09\x20\x20vec3\x20t\x20=\x200.8\x20-\x20vec3(dot(d0,\x20d0),\x20dot(d1,\x20d1),\x20dot(d2,\x20d2));\x0a\x0a\x09\x20\x20//\x20Partial\x20derivatives\x20for\x20analytical\x20gradient\x20computation\x0a\x09\x20\x20vec3\x20dtdx\x20=\x20-2.0\x20*\x20vec3(d0.x,\x20d1.x,\x20d2.x);\x0a\x09\x20\x20vec3\x20dtdy\x20=\x20-2.0\x20*\x20vec3(d0.y,\x20d1.y,\x20d2.y);\x0a\x0a\x09\x20\x20//\x20Set\x20influence\x20of\x20each\x20surflet\x20to\x20zero\x20outside\x20radius\x20sqrt(0.8)\x0a\x09\x20\x20if\x20(t.x\x20<\x200.0)\x20{\x0a\x09\x09dtdx.x\x20=\x200.0;\x0a\x09\x09dtdy.x\x20=\x200.0;\x0a\x09\x09t.x\x20=\x200.0;\x0a\x09\x20\x20}\x0a\x09\x20\x20if\x20(t.y\x20<\x200.0)\x20{\x0a\x09\x09dtdx.y\x20=\x200.0;\x0a\x09\x09dtdy.y\x20=\x200.0;\x0a\x09\x09t.y\x20=\x200.0;\x0a\x09\x20\x20}\x0a\x09\x20\x20if\x20(t.z\x20<\x200.0)\x20{\x0a\x09\x09dtdx.z\x20=\x200.0;\x0a\x09\x09dtdy.z\x20=\x200.0;\x0a\x09\x09t.z\x20=\x200.0;\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20//\x20Fourth\x20power\x20of\x20t\x20(and\x20third\x20power\x20for\x20derivative)\x0a\x09\x20\x20vec3\x20t2\x20=\x20t\x20*\x20t;\x0a\x09\x20\x20vec3\x20t4\x20=\x20t2\x20*\x20t2;\x0a\x09\x20\x20vec3\x20t3\x20=\x20t2\x20*\x20t;\x0a\x20\x20\x0a\x09\x20\x20//\x20Final\x20noise\x20value\x20is:\x0a\x09\x20\x20//\x20sum\x20of\x20((radial\x20weights)\x20times\x20(gradient\x20dot\x20vector\x20from\x20corner))\x0a\x09\x20\x20float\x20n\x20=\x20dot(t4,\x20w);\x0a\x20\x20\x0a\x09\x20\x20//\x20Final\x20analytical\x20derivative\x20(gradient\x20of\x20a\x20sum\x20of\x20scalar\x20products)\x0a\x09\x20\x20vec2\x20dt0\x20=\x20vec2(dtdx.x,\x20dtdy.x)\x20*\x204.0\x20*\x20t3.x;\x0a\x09\x20\x20vec2\x20dn0\x20=\x20t4.x\x20*\x20g0\x20+\x20dt0\x20*\x20w.x;\x0a\x09\x20\x20vec2\x20dt1\x20=\x20vec2(dtdx.y,\x20dtdy.y)\x20*\x204.0\x20*\x20t3.y;\x0a\x09\x20\x20vec2\x20dn1\x20=\x20t4.y\x20*\x20g1\x20+\x20dt1\x20*\x20w.y;\x0a\x09\x20\x20vec2\x20dt2\x20=\x20vec2(dtdx.z,\x20dtdy.z)\x20*\x204.0\x20*\x20t3.z;\x0a\x09\x20\x20vec2\x20dn2\x20=\x20t4.z\x20*\x20g2\x20+\x20dt2\x20*\x20w.z;\x0a\x0a\x09\x20\x20return\x2011.0*vec3(n,\x20dn0\x20+\x20dn1\x20+\x20dn2);\x0a\x09}\x0a\x0a\x09//\x0a\x09//\x202-D\x20non-tiling\x20simplex\x20noise\x20with\x20fixed\x20gradients\x20and\x20analytical\x20derivative.\x0a\x09//\x20This\x20function\x20is\x20implemented\x20as\x20a\x20wrapper\x20to\x20\x22srdnoise\x22,\x0a\x09//\x20at\x20the\x20minimal\x20cost\x20of\x20three\x20extra\x20additions.\x0a\x09//\x0a\x09vec3\x20sdnoise(vec2\x20pos)\x20{\x0a\x09\x20\x20return\x20srdnoise(pos,\x200.0);\x0a\x09}\x0a\x0a\x09//\x0a\x09//\x202-D\x20non-tiling\x20simplex\x20noise\x20with\x20rotating\x20gradients,\x0a\x09//\x20without\x20the\x20analytical\x20derivative.\x0a\x09//\x0a\x09float\x20srnoise(vec2\x20pos,\x20float\x20rot)\x20{\x0a\x09\x20\x20//\x20Offset\x20y\x20slightly\x20to\x20hide\x20some\x20rare\x20artifacts\x0a\x09\x20\x20pos.y\x20+=\x200.001;\x0a\x09\x20\x20//\x20Skew\x20to\x20hexagonal\x20grid\x0a\x09\x20\x20vec2\x20uv\x20=\x20vec2(pos.x\x20+\x20pos.y*0.5,\x20pos.y);\x0a\x20\x20\x0a\x09\x20\x20vec2\x20i0\x20=\x20floor(uv);\x0a\x09\x20\x20vec2\x20f0\x20=\x20fract(uv);\x0a\x09\x20\x20//\x20Traversal\x20order\x0a\x09\x20\x20vec2\x20i1\x20=\x20(f0.x\x20>\x20f0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x0a\x09\x20\x20//\x20Unskewed\x20grid\x20points\x20in\x20(x,y)\x20space\x0a\x09\x20\x20vec2\x20p0\x20=\x20vec2(i0.x\x20-\x20i0.y\x20*\x200.5,\x20i0.y);\x0a\x09\x20\x20vec2\x20p1\x20=\x20vec2(p0.x\x20+\x20i1.x\x20-\x20i1.y\x20*\x200.5,\x20p0.y\x20+\x20i1.y);\x0a\x09\x20\x20vec2\x20p2\x20=\x20vec2(p0.x\x20+\x200.5,\x20p0.y\x20+\x201.0);\x0a\x0a\x09\x20\x20//\x20Integer\x20grid\x20point\x20indices\x20in\x20(u,v)\x20space\x0a\x09\x20\x20i1\x20=\x20i0\x20+\x20i1;\x0a\x09\x20\x20vec2\x20i2\x20=\x20i0\x20+\x20vec2(1.0,\x201.0);\x0a\x0a\x09\x20\x20//\x20Vectors\x20in\x20unskewed\x20(x,y)\x20coordinates\x20from\x0a\x09\x20\x20//\x20each\x20of\x20the\x20simplex\x20corners\x20to\x20the\x20evaluation\x20point\x0a\x09\x20\x20vec2\x20d0\x20=\x20pos\x20-\x20p0;\x0a\x09\x20\x20vec2\x20d1\x20=\x20pos\x20-\x20p1;\x0a\x09\x20\x20vec2\x20d2\x20=\x20pos\x20-\x20p2;\x0a\x0a\x09\x20\x20//\x20Wrap\x20i0,\x20i1\x20and\x20i2\x20to\x20the\x20desired\x20period\x20before\x20gradient\x20hashing:\x0a\x09\x20\x20//\x20wrap\x20points\x20in\x20(x,y),\x20map\x20to\x20(u,v)\x0a\x09\x20\x20vec3\x20x\x20=\x20vec3(p0.x,\x20p1.x,\x20p2.x);\x0a\x09\x20\x20vec3\x20y\x20=\x20vec3(p0.y,\x20p1.y,\x20p2.y);\x0a\x09\x20\x20vec3\x20iuw\x20=\x20x\x20+\x200.5\x20*\x20y;\x0a\x09\x20\x20vec3\x20ivw\x20=\x20y;\x0a\x20\x20\x0a\x09\x20\x20//\x20Avoid\x20precision\x20issues\x20in\x20permutation\x0a\x09\x20\x20iuw\x20=\x20mod289(iuw);\x0a\x09\x20\x20ivw\x20=\x20mod289(ivw);\x0a\x0a\x09\x20\x20//\x20Create\x20gradients\x20from\x20indices\x0a\x09\x20\x20vec2\x20g0\x20=\x20rgrad2(vec2(iuw.x,\x20ivw.x),\x20rot);\x0a\x09\x20\x20vec2\x20g1\x20=\x20rgrad2(vec2(iuw.y,\x20ivw.y),\x20rot);\x0a\x09\x20\x20vec2\x20g2\x20=\x20rgrad2(vec2(iuw.z,\x20ivw.z),\x20rot);\x0a\x0a\x09\x20\x20//\x20Gradients\x20dot\x20vectors\x20to\x20corresponding\x20corners\x0a\x09\x20\x20//\x20(The\x20derivatives\x20of\x20this\x20are\x20simply\x20the\x20gradients)\x0a\x09\x20\x20vec3\x20w\x20=\x20vec3(dot(g0,\x20d0),\x20dot(g1,\x20d1),\x20dot(g2,\x20d2));\x0a\x20\x20\x0a\x09\x20\x20//\x20Radial\x20weights\x20from\x20corners\x0a\x09\x20\x20//\x200.8\x20is\x20the\x20square\x20of\x202/sqrt(5),\x20the\x20distance\x20from\x0a\x09\x20\x20//\x20a\x20grid\x20point\x20to\x20the\x20nearest\x20simplex\x20boundary\x0a\x09\x20\x20vec3\x20t\x20=\x200.8\x20-\x20vec3(dot(d0,\x20d0),\x20dot(d1,\x20d1),\x20dot(d2,\x20d2));\x0a\x0a\x09\x20\x20//\x20Set\x20influence\x20of\x20each\x20surflet\x20to\x20zero\x20outside\x20radius\x20sqrt(0.8)\x0a\x09\x20\x20t\x20=\x20max(t,\x200.0);\x0a\x0a\x09\x20\x20//\x20Fourth\x20power\x20of\x20t\x0a\x09\x20\x20vec3\x20t2\x20=\x20t\x20*\x20t;\x0a\x09\x20\x20vec3\x20t4\x20=\x20t2\x20*\x20t2;\x0a\x20\x20\x0a\x09\x20\x20//\x20Final\x20noise\x20value\x20is:\x0a\x09\x20\x20//\x20sum\x20of\x20((radial\x20weights)\x20times\x20(gradient\x20dot\x20vector\x20from\x20corner))\x0a\x09\x20\x20float\x20n\x20=\x20dot(t4,\x20w);\x0a\x20\x20\x0a\x09\x20\x20//\x20Rescale\x20to\x20cover\x20the\x20range\x20[-1,1]\x20reasonably\x20well\x0a\x09\x20\x20return\x2011.0*n;\x0a\x09}\x0a\x0a\x09//\x0a\x09//\x202-D\x20non-tiling\x20simplex\x20noise\x20with\x20fixed\x20gradients,\x0a\x09//\x20without\x20the\x20analytical\x20derivative.\x0a\x09//\x20This\x20function\x20is\x20implemented\x20as\x20a\x20wrapper\x20to\x20\x22srnoise\x22,\x0a\x09//\x20at\x20the\x20minimal\x20cost\x20of\x20three\x20extra\x20additions.\x0a\x09//\x20Note:\x20if\x20this\x20kind\x20of\x20noise\x20is\x20all\x20you\x20want,\x20there\x20are\x20faster\x0a\x09//\x20GLSL\x20implementations\x20of\x20non-tiling\x20simplex\x20noise\x20out\x20there.\x0a\x09//\x20This\x20one\x20is\x20included\x20mainly\x20for\x20completeness\x20and\x20compatibility\x0a\x09//\x20with\x20the\x20other\x20functions\x20in\x20the\x20file.\x0a\x09//\x0a\x09float\x20snoise(vec2\x20pos)\x20{\x0a\x09\x20\x20return\x20srnoise(pos,\x200.0);\x0a\x09}\x0a\x0a\x09float\x20hash(float\x20x,\x20float\x20y)\x20{\x0a\x09\x09return\x20fract(abs(sin(sin(123.321\x20+\x20x)\x20*\x20(y\x20+\x20321.123))\x20*\x20456.654));\x0a\x09}\x0a\x09\x0a\x09float\x20lerp(float\x20a,\x20float\x20b,\x20float\x20t)\x20{\x0a\x09\x09return\x20a\x20*\x20(1.0\x20-\x20t)\x20+\x20b\x20*\x20t;\x0a\x09}\x0a\x0a\x09float\x20perlin(float\x20x,\x20float\x20y){\x0a\x09\x09float\x20col\x20=\x200.0;\x0a\x09\x09for\x20(int\x20i\x20=\x200;\x20i\x20<\x208;\x20i++)\x20\x0a\x09\x09{\x0a\x09\x09\x09float\x20fx\x20=\x20floor(x);\x0a\x09\x09\x09float\x20fy\x20=\x20floor(y);\x0a\x09\x09\x09float\x20cx\x20=\x20ceil(x);\x0a\x09\x09\x09float\x20cy\x20=\x20ceil(y);\x0a\x09\x09\x09float\x20a\x20=\x20hash(fx,\x20fy);\x0a\x09\x09\x09float\x20b\x20=\x20hash(fx,\x20cy);\x0a\x09\x09\x09float\x20c\x20=\x20hash(cx,\x20fy);\x0a\x09\x09\x09float\x20d\x20=\x20hash(cx,\x20cy);\x0a\x09\x09\x09col\x20+=\x20lerp(lerp(a,\x20b,\x20fract(y)),\x20lerp(c,\x20d,\x20fract(y)),\x20fract(x));\x0a\x09\x09\x09col\x20/=\x202.0;\x0a\x09\x09\x09x\x20/=\x202.0;\x0a\x09\x09\x09y\x20/=\x202.0;\x0a\x09\x09}\x0a\x09\x09return\x20col;\x0a\x09}\x0a\x09\x0a\x09float\x20dperlin(float\x20x,\x20float\x20y){\x0a\x09\x09float\x20d\x20=\x20perlin(x,\x20y)\x20*\x20800.0;\x0a\x09\x09return\x20perlin(x\x20+\x20d,\x20y\x20+\x20d);\x0a\x09}\x0a\x09\x0a\x09float\x20ddperlin(float\x20x,\x20float\x20y){\x0a\x09\x09float\x20d\x20=\x20perlin(x,\x20y)\x20*\x20800.0;\x0a\x09\x09return\x20dperlin(x\x20+\x20d,\x20y\x20+\x20d);\x0a\x09}\x0a';function a4_0x59c9(_0x16e472,_0x478a9c){const _0x5396ee=a4_0x5396();return a4_0x59c9=function(_0x59c993,_0x553d48){_0x59c993=_0x59c993-0x196;let _0x2ffa95=_0x5396ee[_0x59c993];if(a4_0x59c9['ufyFQh']===undefined){var _0x19c7dc=function(_0x353f01){const _0x483836='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x541fe0='',_0x1f11b4='';for(let _0x254646=0x0,_0x50c325,_0x5a4edf,_0x490b2e=0x0;_0x5a4edf=_0x353f01['charAt'](_0x490b2e++);~_0x5a4edf&&(_0x50c325=_0x254646%0x4?_0x50c325*0x40+_0x5a4edf:_0x5a4edf,_0x254646++%0x4)?_0x541fe0+=String['fromCharCode'](0xff&_0x50c325>>(-0x2*_0x254646&0x6)):0x0){_0x5a4edf=_0x483836['indexOf'](_0x5a4edf);}for(let _0x1cb198=0x0,_0x5bd836=_0x541fe0['length'];_0x1cb198<_0x5bd836;_0x1cb198++){_0x1f11b4+='%'+('00'+_0x541fe0['charCodeAt'](_0x1cb198)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1f11b4);};a4_0x59c9['UfkOqx']=_0x19c7dc,_0x16e472=arguments,a4_0x59c9['ufyFQh']=!![];}const _0x145581=_0x5396ee[0x0],_0x56ddf5=_0x59c993+_0x145581,_0x376cd3=_0x16e472[_0x56ddf5];return!_0x376cd3?(_0x2ffa95=a4_0x59c9['UfkOqx'](_0x2ffa95),_0x16e472[_0x56ddf5]=_0x2ffa95):_0x2ffa95=_0x376cd3,_0x2ffa95;},a4_0x59c9(_0x16e472,_0x478a9c);}export{noise};function a4_0x5396(){const _0x4f76d7=['mti2mdm4zvHwwhDc','mJiYodG0oeHLrxH0EG','ngj0A1fvEa','mJLpvLH1qu0','mJa5otK2mgryDfnVyq','ndi3ntrQsNztBhC','nNncBfPKAW','mtG0mJiXoejuvwj4Dq','mJDivgzArfa','otqWwLzizKPw','mJyWmtu2mJH0DensCvy','mJC2mJm1ofPIzg1sAq'];a4_0x5396=function(){return _0x4f76d7;};return a4_0x5396();}